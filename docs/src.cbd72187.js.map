{"version":3,"sources":["util.js","index.js"],"names":["createGroups","lines","size","ret","i","length","chunk","slice","push","join","module","exports","require","slideIndex","slides","window","startShow","console","log","elid","document","getElementById","value","split","filter","e","trim","maxLen","g","j","h","lineCount","text","groupIndex","groupLength","rows","style","height","visibility","showSlide","plusSlides","n","showInput","currentSlide","innerHTML","replaceAll","counter","pagenum"],"mappings":";AAGAA,aAAe,SAASC,EAAOC,GAE7B,IADA,IAAMC,EAAM,GACHC,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,GAAKF,EAAM,CAC3C,IAAMI,EAAQL,EAAMM,MAAMH,EAAGA,EAAIF,GACjCC,EAAIK,KAAKF,EAAMG,KAAK,OAEtB,OAAON,GAGTO,OAAOC,QAAU,CAAEX,aAAAA;;ACRnB,IAAyBY,EAAAA,QAAQ,aAAzBZ,EAAAA,EAAAA,aAGJa,EAAa,EAGbC,EAAS,GAKbC,OAAOC,UAAY,WACjBC,QAAQC,IAAI,iBAQZ,IANkBC,EAMdlB,GANckB,EAMG,cALXC,SAASC,eAAeF,GAAMG,MACzBC,MAAM,UACPC,OAAO,SAAAC,GAAC,OAAIA,GAAkB,KAAbA,EAAEC,UAKjCZ,EAAS,GACT,IAAIa,EAAS,EACT1B,EAAMI,OAASsB,IACjBA,EAAS1B,EAAMI,QAEjB,IAAK,IAAID,EAAI,EAAGA,GAAKuB,IAAUvB,EAE7B,IADA,IAAMwB,EAAI5B,EAAaC,EAAOG,GACrByB,EAAI,EAAGA,EAAID,EAAEvB,SAAUwB,EAAG,CACjC,IAAMC,EAAI,CACRC,UAAW3B,EACX4B,KAAMJ,EAAEC,GACRI,WAAYJ,EACZK,YAAaN,EAAEvB,QAEjBS,EAAON,KAAKsB,GAIhBV,SAASC,eAAe,eAAec,KAAO,IAC9Cf,SAASC,eAAe,eAAee,MAAMC,OAAS,OACtDjB,SAASC,eAAe,aAAae,MAAME,WAAa,SACxDC,UAAU,IAKZxB,OAAOyB,WAAa,SAASC,GAC3B,IAAIrC,EAAIS,EAAa4B,EACjBrC,GAAKU,EAAOT,SACdD,EAAI,GAEFA,EAAI,IACNA,EAAIU,EAAOT,OAAS,GAEtBQ,EAAaT,EAEbmC,UAAU1B,IAGZE,OAAO2B,UAAY,WACjBtB,SAASC,eAAe,aAAae,MAAME,WAAa,WAI1DvB,OAAO4B,aAAe,SAASF,GAC7BF,UAAU1B,EAAa4B,IAGzB1B,OAAOwB,UAAY,SAASE,GAC1B,GAAqB,GAAjB3B,EAAOT,OAAX,CAGAyB,EAAIhB,EAAO2B,GACXrB,SAASC,eAAe,UAAUuB,UAAYd,EAAEE,KAAKa,WAAW,KAAM,UAEtE,IAAIC,EAAU,QACK,GAAfhB,EAAEC,YACJe,EAAU,QAEZ,IAAIC,EAAaN,GAAAA,OAAAA,EAAI,EAAK3B,KAAAA,OAAAA,EAAOT,OAAWyB,MAAAA,OAAAA,EAAEC,UAAae,KAAAA,OAAAA,EAAYhB,MAAAA,OAAAA,EAAEG,WAAa,EAAKH,KAAAA,OAAAA,EAAEI,YAA7F,KACAd,SAASC,eAAe,cAAcuB,UAAYG","file":"src.cbd72187.js","sourceRoot":"../src","sourcesContent":["/**\n * Create groups.\n */\ncreateGroups = function(lines, size) {\n  const ret = []\n  for (let i = 0; i < lines.length; i += size) {\n    const chunk = lines.slice(i, i + size)\n    ret.push(chunk.join('\\n'))\n  }\n  return ret\n}\n\nmodule.exports = { createGroups }\n","// All functions have \"window.\" due to hint:\n// https://stackoverflow.com/questions/57602686/\n//   javascript-function-wont-trigger-when-called-in-html-file-during-parcel-build\n\nconst { createGroups } = require('./util.js')\n\n/** Current slide being shown. */\nlet slideIndex = 0;\n\n/** All slide content. */\nlet slides = [];\n\n/**\n * Generate slide content and show first slide.\n */\nwindow.startShow = function() {\n  console.log('start clicked')\n\n  function getLines(elid) {\n    var t = document.getElementById(elid).value\n    var pars = t.split(/\\r?\\n/g)\n    return pars.filter(e => e && e.trim() !== '')\n  }\n\n  var lines = getLines(\"textToLearn\")\n\n  slides = []\n  var maxLen = 6\n  if (lines.length < maxLen) {\n    maxLen = lines.length\n  }\n  for (var i = 1; i <= maxLen; ++i) {\n    const g = createGroups(lines, i)\n    for (var j = 0; j < g.length; ++j) {\n      const h = {\n        lineCount: i,\n        text: g[j],\n        groupIndex: j,\n        groupLength: g.length,\n      }\n      slides.push(h)\n    }\n  }\n\n  document.getElementById('textToLearn').rows = '3'\n  document.getElementById('textToLearn').style.height = '50px'\n  document.getElementById('userInput').style.visibility = 'hidden'\n  showSlide(0)\n}\n\n\n// Next/previous controls\nwindow.plusSlides = function(n) {\n  var i = slideIndex + n\n  if (i >= slides.length) {\n    i = 0\n  }\n  if (i < 0) {\n    i = slides.length - 1\n  }\n  slideIndex = i\n\n  showSlide(slideIndex)\n}\n\nwindow.showInput = function() {\n  document.getElementById('userInput').style.visibility = 'visible'\n}\n\n// Thumbnail image controls\nwindow.currentSlide = function(n) {\n  showSlide(slideIndex = n)\n}\n\nwindow.showSlide = function(n) {\n  if (slides.length == 0)\n    return;\n\n  h = slides[n]\n  document.getElementById('output').innerHTML = h.text.replaceAll('\\n', '<br />')\n\n  var counter = 'lines'\n  if (h.lineCount == 1) {\n    counter = 'line'\n  }\n  var pagenum = `${n + 1}/${slides.length} (${h.lineCount} ${counter}: ${h.groupIndex + 1}/${h.groupLength})`\n  document.getElementById('pageNumber').innerHTML = pagenum\n}\n"]}